# Project Architecture

This document outlines the overall project architecture: tech stack, folder structure, conceptual labels, domain separation and naming conventions.

## I. Tech stack

The current tech stack used in this project is:

- **TypeScript**
- **React**
- **Node.js**
- **Express**
- **PostgreSQL**
- **Docker**
- **Vite**
- **Vitest**
- **Tailwind**

## II. Core Layer

This repository is a monorepo. The root contains shared tooling/configuration and orchestration; product code lives inside `packages/`.

- **Root (repo-level):**

   - **Config & tooling:** `package.json`, `package-lock.json`, `tsconfig.json`, `vitest.workspace.ts`, `eslint.config.js`, `.prettierrc`, `.gitignore`.
   - **Docker & infra:** `docker-compose.yml`, `docker-compose.prod.yml`, `docker/`, `nginx/`.
   - **Automation & docs:** `tasks/` (scripts), `.github/` (workflows), `docs/`.
   - **Code packages:** `packages/client/`, `packages/server/`.
   - **Not in root:** application `src/`, `public/`, `dist/` folders. Those belong to a specific package.

- **Packages (`packages/*`):** each package is independently buildable/testable and owns its own:
   - `package.json` and package-scoped configs (TypeScript/Vite/Vitest, etc.).
   - `src/` (raw source), optionally `public/` (static assets).
   - build output (e.g., Vite `dist/`) is generated and typically not committed.

Examples of the layers:

- **Client package:** `packages/client/public/`, `packages/client/src/`, `packages/client/dist/` (generated by Vite).
- **Server package:** `packages/server/src/` (Express app), server build output (generated) depending on deployment target.

As the project grows, new code domains should become new packages under `packages/` (for example `packages/shared/` for cross-domain types/utilities) rather than adding new top-level `src/` folders at the repo root.

## III. Workflow Labels

Folders are categorized by the direction of imports (dependency flow). These labels describe boundaries, not necessarily folder names.

- **SHARED:** reusable building blocks. May be imported by FEATURES and APP. Should not import from FEATURES or APP.
- **FEATURES:** vertical slices of functionality. May import from SHARED. May be imported by APP only.
- **APP:** composition and entry points. Imports from FEATURES and SHARED. Should not be imported by other layers.

Examples (client, `packages/client/src/`):

- **SHARED:** `components/`, `utils/`, `assets/`.
- **FEATURES:** `features/contact-form/`, `features/projects-list/`, `features/project/`.
- **APP:** `app/App.tsx`, `app/main.tsx`, `app/pages/`.

Examples (server, `packages/server/src/`):

- **SHARED:** `config/` (database config/types), shared middleware/helpers (if added).
- **FEATURES:** a per-domain slice like `controllers/projectController/` + `routes/projectRoutes/` (or a future `features/project/`).
- **APP:** `app/server.ts` (Express bootstrap).

## IV. Semantic Names

These semantic names define the type of content within a folder.

- **App:** application setup, composition, and entry points.
- **Components:** reusable UI building blocks used across multiple pages/features.
- **Data:** static data, constants, and data-shaping code (e.g., mapper objects, fixtures).
- **Features:** feature-oriented code grouped by a single user-facing capability.
- **Utils:** reusable logic utilities (e.g., React hooks, context, formatters).
- **Lib:** framework-agnostic helpers (pure TypeScript; no React/Express assumptions).
- **Api:** boundary code for HTTP APIs (server routes/controllers) or API clients (browser/server).
- **Tasks:** scripts for repetitive or administrative work.

Examples of semantic names:

- **App:** `packages/client/src/app/App.tsx`
- **Components:** `packages/client/src/components/header/Header.tsx`
- **Data:** `packages/client/src/features/project/data/projectData.ts`
- **Features:** `packages/client/src/features/contact-form/ContactForm.tsx`
- **Utils:** `packages/client/src/utils/hooks/useFetchData/useFetchData.tsx`
- **Lib:** `packages/server/src/lib/safeJsonParse.ts`
- **Api:** `packages/server/src/routes/projectRoutes/projectRoutes.ts`
- **Tasks:** `tasks/deploy.sh`

## V. Domain Separation

The project is logically divided into client-side and server-side domains.

- **Client (Front-end):** UI components, user-interaction logic, features, presentation.
- **Server (Back-end):** database config, controllers, routing, server configuration, API business logic.
